arguments:
    transport: Innmind\HttpTransport\Transport
    clock: Innmind\TimeContinuum\TimeContinuumInterface
    scheme: '?string'
    host: '?string'
    port: '?int'
    user: '?string'
    password: '?string'

expose:
    connection: $connection

services:
    connection Innmind\Neo4j\DBAL\Connection\Connection:
        - '$transport.http'
        - '$transactions'

    transactions Innmind\Neo4j\DBAL\Transactions:
        - '$http_transport.transport'
        - '$clock'

    server Innmind\Neo4j\DBAL\Server:
        - '$scheme'
        - '$host'
        - '$port'

    authentication Innmind\Neo4j\DBAL\Authentication:
        - '$user'
        - '$password'

    transport:
        http Innmind\Neo4j\DBAL\Transport\Http:
            - '$translator.http'
            - '$http_transport.transport'

    http_transport:
        transport Innmind\Neo4j\DBAL\HttpTransport\Transport:
            - '$server'
            - '$authentication'
            - '$transport'

    translator:
        http Innmind\Neo4j\DBAL\Translator\HttpTranslator:
            - '$transactions'
